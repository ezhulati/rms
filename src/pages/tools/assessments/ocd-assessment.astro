---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Assessment from '../../../components/Assessment';
import { Brain, AlertCircle, CheckCircle, Info } from 'lucide-react';

// Y-BOCS Short Form (Yale-Brown Obsessive Compulsive Scale)
const ybocsQuestions = [
  {
    id: 'q1',
    text: 'Time occupied by obsessive thoughts: How much of your time is occupied by obsessive thoughts?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild (less than 1 hour/day)', value: 1 },
      { text: 'Moderate (1-3 hours/day)', value: 2 },
      { text: 'Severe (3-8 hours/day)', value: 3 },
      { text: 'Extreme (nearly constant)', value: 4 }
    ]
  },
  {
    id: 'q2',
    text: 'Interference from obsessive thoughts: How much do your obsessive thoughts interfere with your work, school, social, or other important activities?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild, slight interference', value: 1 },
      { text: 'Moderate, definite interference', value: 2 },
      { text: 'Severe, substantial impairment', value: 3 },
      { text: 'Extreme, incapacitating', value: 4 }
    ]
  },
  {
    id: 'q3',
    text: 'Distress from obsessive thoughts: How much distress do your obsessive thoughts cause you?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild, infrequent, not too disturbing', value: 1 },
      { text: 'Moderate, frequent, disturbing but manageable', value: 2 },
      { text: 'Severe, very frequent, very disturbing', value: 3 },
      { text: 'Extreme, near constant, disabling distress', value: 4 }
    ]
  },
  {
    id: 'q4',
    text: 'Resistance to obsessions: How much effort do you make to resist the obsessive thoughts?',
    options: [
      { text: 'Always resist, or symptoms so minimal no need to resist', value: 0 },
      { text: 'Try to resist most of the time', value: 1 },
      { text: 'Make some effort to resist', value: 2 },
      { text: 'Yield to obsessions willingly but with some reluctance', value: 3 },
      { text: 'Completely and willingly yield to all obsessions', value: 4 }
    ]
  },
  {
    id: 'q5',
    text: 'Control over obsessive thoughts: How much control do you have over your obsessive thoughts?',
    options: [
      { text: 'Complete control', value: 0 },
      { text: 'Much control, usually able to stop or divert', value: 1 },
      { text: 'Moderate control, sometimes able to stop or divert', value: 2 },
      { text: 'Little control, rarely successful in stopping thoughts', value: 3 },
      { text: 'No control, rarely able to even momentarily divert', value: 4 }
    ]
  },
  {
    id: 'q6',
    text: 'Time spent on compulsions: How much time do you spend performing compulsive behaviors?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild (less than 1 hour/day)', value: 1 },
      { text: 'Moderate (1-3 hours/day)', value: 2 },
      { text: 'Severe (3-8 hours/day)', value: 3 },
      { text: 'Extreme (nearly constant)', value: 4 }
    ]
  },
  {
    id: 'q7',
    text: 'Interference from compulsive behaviors: How much do your compulsive behaviors interfere with your daily life?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild, slight interference', value: 1 },
      { text: 'Moderate, definite interference', value: 2 },
      { text: 'Severe, substantial impairment', value: 3 },
      { text: 'Extreme, incapacitating', value: 4 }
    ]
  },
  {
    id: 'q8',
    text: 'Distress from compulsive behavior: How anxious would you feel if prevented from performing your compulsions?',
    options: [
      { text: 'None', value: 0 },
      { text: 'Mild, only slightly anxious', value: 1 },
      { text: 'Moderate, anxiety increases but manageable', value: 2 },
      { text: 'Severe, prominent and very disturbing increase', value: 3 },
      { text: 'Extreme, incapacitating anxiety', value: 4 }
    ]
  },
  {
    id: 'q9',
    text: 'Resistance to compulsions: How much effort do you make to resist the compulsions?',
    options: [
      { text: 'Always resist, or symptoms so minimal no need to resist', value: 0 },
      { text: 'Try to resist most of the time', value: 1 },
      { text: 'Make some effort to resist', value: 2 },
      { text: 'Yield to compulsions willingly but with some reluctance', value: 3 },
      { text: 'Completely and willingly yield to all compulsions', value: 4 }
    ]
  },
  {
    id: 'q10',
    text: 'Control over compulsive behavior: How strong is the drive to perform the compulsive behavior?',
    options: [
      { text: 'Complete control', value: 0 },
      { text: 'Much control, pressure to perform but usually able to control', value: 1 },
      { text: 'Moderate control, strong pressure but some control', value: 2 },
      { text: 'Little control, very strong drive, must be carried to completion', value: 3 },
      { text: 'No control, drive experienced as completely involuntary', value: 4 }
    ]
  }
];

const scoringGuide = [
  {
    min: 0,
    max: 7,
    severity: 'Subclinical',
    color: 'green',
    description: 'Your responses suggest minimal or subclinical OCD symptoms. Your symptoms appear to be within a normal range.'
  },
  {
    min: 8,
    max: 15,
    severity: 'Mild OCD',
    color: 'yellow',
    description: 'Your responses suggest mild OCD symptoms. While manageable, you may benefit from speaking with a mental health professional about coping strategies.'
  },
  {
    min: 16,
    max: 23,
    severity: 'Moderate OCD',
    color: 'orange',
    description: 'Your responses suggest moderate OCD symptoms that may be significantly impacting your life. Professional treatment, particularly ERP (Exposure and Response Prevention) therapy, is recommended.'
  },
  {
    min: 24,
    max: 31,
    severity: 'Severe OCD',
    color: 'red',
    description: 'Your responses suggest severe OCD symptoms. We strongly recommend seeking professional help from an OCD specialist. Evidence-based treatments are very effective.'
  },
  {
    min: 32,
    max: 40,
    severity: 'Extreme OCD',
    color: 'red',
    description: 'Your responses suggest extreme OCD symptoms that are likely severely impacting your daily functioning. Please seek immediate professional help from an OCD specialist.'
  }
];

const recommendations = {
  'subclinical': 'Continue monitoring your symptoms. If they worsen or begin to interfere with daily life, consider speaking with a mental health professional.',
  'mild ocd': 'Consider consulting with a therapist who specializes in OCD. Cognitive Behavioral Therapy (CBT), particularly Exposure and Response Prevention (ERP), is highly effective for OCD.',
  'moderate ocd': 'We strongly recommend seeking treatment from an OCD specialist. ERP therapy combined with, if appropriate, medication can significantly reduce symptoms and improve quality of life.',
  'severe ocd': 'Please schedule an appointment with an OCD specialist as soon as possible. Intensive treatment programs may be beneficial. Both ERP therapy and medication can be very effective.',
  'extreme ocd': 'Immediate professional help is strongly recommended. Consider reaching out to an OCD specialist or treatment center. Intensive outpatient or residential treatment programs may be appropriate.'
};
---

<BaseLayout>
  {/* Hero Section */}
  <section class="bg-gradient-to-b from-white via-brand-primary-50/30 to-white pt-16 pb-12 md:pt-24 md:pb-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">
      <h1 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6">Y-BOCS OCD Assessment</h1>
      <p class="font-serif italic text-lg md:text-xl text-neutral-600">
        Yale-Brown Obsessive Compulsive Scale - A validated clinical assessment tool
      </p>
    </div>
  </section>

  {/* Main Content */}
  <section class="bg-white py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">

      {/* Information Cards */}
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
          <div class="flex items-start">
            <Info class="h-6 w-6 text-blue-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">About Y-BOCS</h3>
              <p class="text-gray-700 text-sm">
                The Y-BOCS is the gold standard for measuring OCD symptom severity used by clinicians worldwide.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-green-50 rounded-lg p-6 border-l-4 border-green-500">
          <div class="flex items-start">
            <Brain class="h-6 w-6 text-green-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">Takes 5 Minutes</h3>
              <p class="text-gray-700 text-sm">
                Answer 10 questions about your obsessions and compulsions to receive detailed insights.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-yellow-50 rounded-lg p-6 border-l-4 border-yellow-500">
          <div class="flex items-start">
            <AlertCircle class="h-6 w-6 text-yellow-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">Not a Diagnosis</h3>
              <p class="text-gray-700 text-sm">
                This is a screening tool. Only a qualified professional can diagnose OCD.
              </p>
            </div>
          </div>
        </div>
      </div>

      {/* Assessment Component */}
      <Assessment
        client:load
        title="Please rate your OCD symptoms based on your experience over the past week"
        description="Answer each question as accurately as possible. There are no right or wrong answers."
        questions={ybocsQuestions}
        scoringGuide={scoringGuide}
        recommendations={recommendations}
      />

      {/* Additional Resources */}
      <div class="mt-12 bg-gradient-to-r from-brand-primary-50 to-brand-secondary-50 rounded-lg p-8">
        <h3 class="text-2xl font-bold text-gray-900 mb-6">Next Steps & Resources</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-bold text-gray-900 mb-3 flex items-center">
              <CheckCircle class="h-5 w-5 text-brand-primary mr-2" />
              Find OCD Treatment
            </h4>
            <ul class="space-y-2 text-gray-700">
              <li><a href="/best/conditions/best-for-ocd" class="text-brand-primary hover:underline">Best Online Therapy for OCD</a></li>
              <li><a href="/tools/matchers/therapy-platform-matcher" class="text-brand-primary hover:underline">Find an OCD Specialist</a></li>
              <li><a href="/learn/fundamentals/anxiety-disorders" class="text-brand-primary hover:underline">Understanding OCD Treatment</a></li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold text-gray-900 mb-3 flex items-center">
              <CheckCircle class="h-5 w-5 text-brand-primary mr-2" />
              Learn About OCD
            </h4>
            <ul class="space-y-2 text-gray-700">
              <li><a href="/learn/fundamentals/anxiety-disorders" class="text-brand-primary hover:underline">OCD & Anxiety Disorders</a></li>
              <li><a href="/learn/fundamentals/mindfulness" class="text-brand-primary hover:underline">Mindfulness Techniques</a></li>
              <li><a href="/learn/fundamentals/stress-management" class="text-brand-primary hover:underline">Managing OCD-Related Stress</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
