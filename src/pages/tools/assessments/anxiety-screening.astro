---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Assessment from '../../../components/Assessment';
import { CheckCircle, Info, AlertCircle, Brain } from 'lucide-react';

// GAD-7 (Generalized Anxiety Disorder 7-item scale) - Validated Clinical Instrument
const gad7Questions = [
  {
    id: 'q1',
    text: 'Feeling nervous, anxious, or on edge',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q2',
    text: 'Not being able to stop or control worrying',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q3',
    text: 'Worrying too much about different things',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q4',
    text: 'Trouble relaxing',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q5',
    text: 'Being so restless that it\'s hard to sit still',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q6',
    text: 'Becoming easily annoyed or irritable',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q7',
    text: 'Feeling afraid as if something awful might happen',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  }
];

const scoringGuide = [
  {
    min: 0,
    max: 4,
    severity: 'Minimal Anxiety',
    color: 'green',
    description: 'Your responses suggest minimal anxiety symptoms. This is within the normal range, and you appear to be managing well.'
  },
  {
    min: 5,
    max: 9,
    severity: 'Mild Anxiety',
    color: 'yellow',
    description: 'Your responses suggest mild anxiety. While these symptoms may be manageable, it could be beneficial to explore coping strategies and self-care practices.'
  },
  {
    min: 10,
    max: 14,
    severity: 'Moderate Anxiety',
    color: 'orange',
    description: 'Your responses suggest moderate anxiety that may be impacting your daily life. Speaking with a mental health professional could help you develop effective management strategies.'
  },
  {
    min: 15,
    max: 21,
    severity: 'Severe Anxiety',
    color: 'red',
    description: 'Your responses suggest severe anxiety symptoms. We strongly recommend consulting with a mental health professional who can provide a comprehensive evaluation and discuss treatment options.'
  }
];

const recommendations = {
  'minimal anxiety': 'Continue with your current self-care practices. Consider mindfulness exercises or meditation to maintain your mental well-being.',
  'mild anxiety': 'Explore stress management techniques such as regular exercise, adequate sleep, and relaxation practices. Consider journaling or talking with trusted friends about your concerns.',
  'moderate anxiety': 'We recommend scheduling an appointment with a therapist who specializes in anxiety disorders. Cognitive Behavioral Therapy (CBT) and other evidence-based treatments can be very effective.',
  'severe anxiety': 'Please consult with a mental health professional as soon as possible. They can provide a thorough assessment and discuss treatment options including therapy and, if appropriate, medication.'
};
---

<BaseLayout>
  {/* Hero Section */}
  <section class="bg-gradient-to-b from-white via-brand-primary-50/30 to-white pt-16 pb-12 md:pt-24 md:pb-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">
      <h1 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6">GAD-7 Anxiety Screening</h1>
      <p class="font-serif italic text-lg md:text-xl text-neutral-600">
        A validated clinical tool to evaluate your anxiety symptoms over the past 2 weeks
      </p>
    </div>
  </section>

  {/* Main Content */}
  <section class="bg-white py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">

      {/* Information Cards */}
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
          <div class="flex items-start">
            <Info class="h-6 w-6 text-blue-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">About GAD-7</h3>
              <p class="text-gray-700 text-sm">
                The GAD-7 is a validated screening tool used by healthcare professionals worldwide to assess anxiety severity.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-green-50 rounded-lg p-6 border-l-4 border-green-500">
          <div class="flex items-start">
            <Brain class="h-6 w-6 text-green-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">Takes 2 Minutes</h3>
              <p class="text-gray-700 text-sm">
                Answer 7 simple questions about how you've felt over the past two weeks to receive personalized insights.
              </p>
            </div>
          </div>
        </div>

        <div class="bg-yellow-50 rounded-lg p-6 border-l-4 border-yellow-500">
          <div class="flex items-start">
            <AlertCircle class="h-6 w-6 text-yellow-600 mr-3 mt-0.5 flex-shrink-0" />
            <div>
              <h3 class="font-bold text-gray-900 mb-2">Not a Diagnosis</h3>
              <p class="text-gray-700 text-sm">
                This is a screening tool, not a diagnostic test. Only a qualified professional can diagnose anxiety disorders.
              </p>
            </div>
          </div>
        </div>
      </div>

      {/* Assessment Component */}
      <Assessment
        client:load
        title="Over the last 2 weeks, how often have you been bothered by the following problems?"
        description="Please select the response that best describes how often you've experienced each symptom."
        questions={gad7Questions}
        scoringGuide={scoringGuide}
        recommendations={recommendations}
      />

      {/* Additional Resources */}
      <div class="mt-12 bg-gradient-to-r from-brand-primary-50 to-brand-secondary-50 rounded-lg p-8">
        <h3 class="text-2xl font-bold text-gray-900 mb-6">Next Steps & Resources</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-bold text-gray-900 mb-3 flex items-center">
              <CheckCircle class="h-5 w-5 text-brand-primary mr-2" />
              Find Professional Help
            </h4>
            <ul class="space-y-2 text-gray-700">
              <li><a href="/best/conditions/best-for-anxiety" class="text-brand-primary hover:underline">Best Online Therapy for Anxiety</a></li>
              <li><a href="/tools/matchers/therapy-platform-matcher" class="text-brand-primary hover:underline">Find Your Ideal Therapist</a></li>
              <li><a href="/reviews/specialty/anxiety-treatment" class="text-brand-primary hover:underline">Anxiety Treatment Reviews</a></li>
            </ul>
          </div>

          <div>
            <h4 class="font-bold text-gray-900 mb-3 flex items-center">
              <CheckCircle class="h-5 w-5 text-brand-primary mr-2" />
              Learn More About Anxiety
            </h4>
            <ul class="space-y-2 text-gray-700">
              <li><a href="/learn/fundamentals/anxiety-disorders" class="text-brand-primary hover:underline">Understanding Anxiety Disorders</a></li>
              <li><a href="/learn/fundamentals/mindfulness" class="text-brand-primary hover:underline">Mindfulness for Anxiety</a></li>
              <li><a href="/learn/fundamentals/stress-management" class="text-brand-primary hover:underline">Stress Management Techniques</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
