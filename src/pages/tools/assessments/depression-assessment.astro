---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { Brain, AlertCircle, CheckCircle, Info } from 'lucide-react';
import Assessment from '../../../components/Assessment';

const questions = [
  {
    id: 'q1',
    text: 'Over the past two weeks, how often have you felt sad, down, or depressed?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q2',
    text: 'Over the past two weeks, how often have you lost interest or pleasure in activities you usually enjoy?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q3',
    text: 'Over the past two weeks, how often have you felt tired or had little energy?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q4',
    text: 'Over the past two weeks, how often have you had trouble falling asleep, staying asleep, or sleeping too much?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q5',
    text: 'Over the past two weeks, how often have you experienced changes in appetite (eating too much or too little)?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q6',
    text: 'Over the past two weeks, how often have you felt bad about yourself or that you are a failure?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q7',
    text: 'Over the past two weeks, how often have you had trouble concentrating on things like reading or watching TV?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q8',
    text: 'Over the past two weeks, how often have you moved or spoken so slowly that others noticed, or been so fidgety or restless that you have been moving around more than usual?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  },
  {
    id: 'q9',
    text: 'Over the past two weeks, how often have you had thoughts that you would be better off dead or of hurting yourself in some way?',
    options: [
      { text: 'Not at all', value: 0 },
      { text: 'Several days', value: 1 },
      { text: 'More than half the days', value: 2 },
      { text: 'Nearly every day', value: 3 }
    ]
  }
];

const scoringGuide = [
  {
    min: 0,
    max: 4,
    severity: 'Minimal Depression',
    description: 'Your responses suggest minimal or no depression symptoms. You appear to be managing well emotionally. Continue to maintain healthy lifestyle habits and reach out for support if you notice changes.',
    color: 'green'
  },
  {
    min: 5,
    max: 9,
    severity: 'Mild Depression',
    description: 'Your responses suggest mild depression symptoms. You may benefit from lifestyle modifications such as regular exercise, improved sleep habits, and social connection. Consider speaking with a counselor if symptoms persist or worsen.',
    color: 'yellow'
  },
  {
    min: 10,
    max: 14,
    severity: 'Moderate Depression',
    description: 'Your responses suggest moderate depression symptoms. We recommend consulting with a mental health professional for evaluation and treatment. Therapy and/or medication can be very effective for managing depression at this level.',
    color: 'orange'
  },
  {
    min: 15,
    max: 27,
    severity: 'Moderately Severe to Severe Depression',
    description: 'Your responses suggest moderately severe to severe depression. We strongly recommend seeking professional help immediately. Depression at this level requires treatment, and effective options are available. Please reach out to a mental health professional or call 988 (Suicide & Crisis Lifeline) if you are in crisis.',
    color: 'red'
  }
];

const recommendations = {
  minimal: 'Continue practicing good self-care habits including regular physical activity, maintaining social connections, getting adequate sleep, and managing stress. If you notice changes in your mood or functioning, don\'t hesitate to reach out for support.',
  mild: 'Consider implementing structured self-care strategies and monitoring your symptoms. Talking with a therapist can help you develop coping skills and prevent symptoms from worsening. Cognitive-behavioral therapy (CBT) and other evidence-based approaches are highly effective for mild depression.',
  moderate: 'Professional treatment is recommended for moderate depression. A mental health professional can work with you to determine whether therapy, medication, or a combination would be most beneficial. Many people with moderate depression see significant improvement with treatment.',
  'moderately severe to severe': 'Please seek professional help as soon as possible. Severe depression is a serious but treatable condition. A psychiatrist or mental health professional can provide immediate support and develop a comprehensive treatment plan. If you are having thoughts of self-harm, please call 988 (Suicide & Crisis Lifeline) or go to your nearest emergency room.'
};
---

<BaseLayout>
  <div class="min-h-screen bg-gray-50">
    <div class="sb-container py-12 max-w-4xl">
      <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="bg-indigo-600 p-6 text-white">
          <h1 class="text-2xl font-bold mb-2">Depression Assessment</h1>
          <p class="text-indigo-100">
            Evaluate your depression symptoms with this clinically-informed screening tool
          </p>
        </div>

        <div class="p-6">
          <div class="space-y-4 mb-6">
            <div class="flex items-start">
              <Info class="h-5 w-5 text-indigo-600 mr-2 mt-0.5 flex-shrink-0" />
              <div>
                <h2 class="font-bold text-gray-800">About This Assessment</h2>
                <p class="text-gray-600">
                  This depression assessment is based on standard clinical screening tools and evaluates the presence and severity of depressive symptoms. It examines mood patterns, energy levels, and their impact on daily functioning to help you understand if you might benefit from professional support.
                </p>
              </div>
            </div>

            <div class="flex items-start">
              <Brain class="h-5 w-5 text-indigo-600 mr-2 mt-0.5 flex-shrink-0" />
              <div>
                <h2 class="font-bold text-gray-800">What It Measures</h2>
                <p class="text-gray-600">
                  The assessment evaluates key depression indicators:
                </p>
                <ul class="mt-2 space-y-1">
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Persistent sadness and depressed mood</span>
                  </li>
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Loss of interest or pleasure in activities</span>
                  </li>
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Energy levels and fatigue patterns</span>
                  </li>
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Sleep disturbances and changes in appetite</span>
                  </li>
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Concentration, decision-making, and self-worth</span>
                  </li>
                  <li class="flex items-center">
                    <CheckCircle class="h-4 w-4 text-green-500 mr-2 flex-shrink-0" />
                    <span>Impact on work, relationships, and daily activities</span>
                  </li>
                </ul>
              </div>
            </div>

            <div class="flex items-start">
              <AlertCircle class="h-5 w-5 text-yellow-500 mr-2 mt-0.5 flex-shrink-0" />
              <div>
                <h2 class="font-bold text-gray-800">Important Note</h2>
                <p class="text-gray-600">
                  This assessment is not a diagnostic tool. Only a qualified mental health professional can diagnose depression. This screening is designed to help you understand your symptoms and decide if professional evaluation might be beneficial.
                </p>
              </div>
            </div>
          </div>

          <Assessment
            client:load
            title="Depression Screening"
            description="Please answer the following questions based on how you have been feeling over the past two weeks. This assessment is based on the PHQ-9, a validated depression screening tool."
            questions={questions}
            scoringGuide={scoringGuide}
            recommendations={recommendations}
          />

          <div class="space-y-4">
            <div class="flex items-start bg-yellow-50 rounded-lg p-4">
              <AlertCircle class="h-5 w-5 text-yellow-500 mr-2 mt-0.5 flex-shrink-0" />
              <p class="text-sm text-yellow-700">
                If you're experiencing symptoms of depression or having thoughts of self-harm, please seek immediate help from a mental health professional. Call 988 (Suicide & Crisis Lifeline) if you're in crisis.
              </p>
            </div>

            <div class="flex flex-wrap gap-4">
              <a href="/tools/matchers/therapy-platform-matcher" class="inline-flex items-center bg-indigo-600 text-white px-6 py-3 whitespace-nowrap rounded-md hover:bg-indigo-700 transition">
                Find a Depression Specialist
              </a>
              <a href="/best/conditions/best-for-depression" class="inline-flex items-center bg-indigo-600 text-white px-6 py-3 whitespace-nowrap rounded-md hover:bg-indigo-700 transition">
                View Best Depression Treatment Options
              </a>
              <a href="/conditions/depression-page" class="inline-flex items-center border-2 border-indigo-600 text-indigo-600 px-6 py-3 whitespace-nowrap rounded-md hover:bg-indigo-50 transition">
                Learn More About Depression
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>