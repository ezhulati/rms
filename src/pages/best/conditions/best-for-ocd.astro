---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { platforms } from '../../../siteData';
import { Star, CheckCircle, XCircle, ArrowRight } from 'lucide-react';
import { platforms } from '../../../siteData';

const renderStars = (rating: number) => {
  const fullStars = Math.floor(rating);
  const starsArray = Array(5).fill(0).map((_, i) => i < fullStars);
  return starsArray;
};


// const platforms = []; // Now using real data from siteData

---

<BaseLayout>
  {/* Hero Section */}
  <section class="bg-gradient-to-b from-white via-brand-primary-50/30 to-white pt-16 pb-12 md:pt-24 md:pb-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">
      <div class="text-center mb-12">
        <h1 class="font-heading text-4xl md:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6">Best Online Therapy for OCD</h1>
        <p class="font-serif italic text-lg md:text-xl text-neutral-600 max-w-3xl mx-auto mb-8">
          Specialized online platforms offering evidence-based treatment for OCD.
        </p>
      </div>
    </div>
  </section>

  {/* Main Content */}
  <section class="bg-white py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">

        {/* Introduction Section */}
        <div class="bg-white rounded-lg shadow-md p-8 mb-12">
          <h2 class="text-2xl font-bold text-gray-800 mb-4">Finding Specialized Care for OCD</h2>
          <p class="text-gray-600 mb-4">
            Obsessive-Compulsive Disorder (OCD) requires specialized treatment approaches. Research shows that Exposure and Response Prevention (ERP) is most effective for OCD.
          </p>
        </div>

        {/* Platform Comparison */}
        <div class="bg-white rounded-lg shadow-md p-8 mb-12">
          <h2 class="text-2xl font-bold text-gray-800 mb-6">Top Online Platforms for OCD Treatment</h2>
          
          {platforms.map((platform, index) => (
            <div key={platform.slug} class="mb-8 p-6 border rounded-lg">
              <h3 class="text-xl font-bold">{platform.name}</h3>
              <div class="flex items-center mb-2">
                {renderStars(platform.rating)}
                <span class="ml-2">{platform.rating}/5</span>
              </div>
              <p class="mb-2">{platform.description}</p>
              <p class="font-bold">Price: {platform.price}</p>
              <div class="mt-4">
                <h4 class="font-bold">Best For:</h4>
                <p>{platform.bestFor}</p>
              </div>
            </div>
          ))}
        </div>

        {/* CTA Section */}
        <div class="bg-indigo-600 text-white p-8 rounded-lg text-center">
          <h2 class="text-2xl font-bold mb-4">Find Your Perfect OCD Treatment</h2>
          <a href="/tools/matchers/therapy-platform-matcher" class="inline-flex items-center bg-indigo-600 text-white px-6 py-3 whitespace-nowrap rounded-md hover:bg-indigo-700 transition">Take the Assessment</a>
        </div>
    </div>
  </section>
</BaseLayout>
